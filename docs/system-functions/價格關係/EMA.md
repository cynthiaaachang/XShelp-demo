# EMA – （系統函數） <kbd>價格關係</kbd>

## 語法

> 計算序列資料的XQ指數移動平均。  
> **回傳數值=EMA(數列,期數)**  
> 傳入二個參數:  
> - 第一個參數是數列，通常是開高低收的價格數列。  
> - 第二個參數是期數。  

---

## 說明

以最新一筆資料為基準點，輸入要計算的期數，然後計算過去期數的XQ指數移動平均值。

XQ指數移動平均和一般指數移動平均（XAverage）的計算差異在於最前面幾期（小於平均期數）時的計算公式不同。

當K棒編號 ≦ 期數時：

當期均價 = (當期價格 + (前期均價*(K棒編號-1)))/K棒編號  (換句話說，當期均價 = 這幾期的算數平均)

當K棒編號 > 期數時：

當期均價 = (2/(n+1))*當期價格 + (n-1)/(n+1)*前期均價

範例：

```pascal
value1 = EMA(Close,5); //計算5期收盤價的XQ EMA
```
