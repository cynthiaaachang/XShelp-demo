# SetAlign – （內建函數） <kbd>一般函數</kbd>

## 語法

> 根據欄位屬性，指定腳本執行時的資料對位計算方式  
> SetAlign("籌碼",資料對位計算方式)  
> SetAlign("營收財報",資料對位計算方式)  

---

## 說明

SetAlign可以根據欄位屬性，指定腳本執行時的資料對位計算方式。
<br></br>
<h3>說明資料的對位定義</h3>

無論是資料欄位或選股欄位，皆會在欄位可用頻率的K棒生成後，將對應時間的歷史資料標記在此根K棒上，舉例來說：

資料欄位 "外盤量" 的可用頻率為分鐘、日、還原日，因此當GetField("外盤量",”10”)[n]時，可以想像在距離最新10分K之前的第n根10分K上，有一筆"外盤量"的資料標記在上面。

至於最新K棒尚未結束之前，GetField("外盤量",”10”)[0]都會不斷被更新至最新10分K的標記當中。
<br></br>
在對資料與K棒之間的標記關係，有了理解之後，就要來說明資料的對位方式，有以下兩種：
<br></br>
**1. 絕對對位：根據資料名義上的所屬期別來標記對位。**

例如 "大戶持股張數" 最快每周更新一次，那資料就會標記在當周的第一根K棒； "每股現金流量" 最快每季更新一次，那資料就會標記在當季的第一根K棒（標記更新後的持續區間，都會取得期初標記的資料，直到標記再次被更新為止）。

**2. 公布日對位：根據資料何時能被XS取得來標記對位**（不一定等於資料被公司公布的時間，因為第一手資料公布後，上游的資料源會接收、整理後再轉給XQ，接著再轉成XS可以取得的格式）。

例如 "每股現金流量" 第一季的資料在4/16首次可以被XS取得、第二季的資料在7/13首次可以被XS取得。那4/16會標記第一季的資料；7/13的K棒才會標記第二季的資料（4/16~7/12之間的K棒，會取得的是第一季的資料）。
<br></br>
<h3>SetAlign的使用</h3>

- **指標**、**警示**、**自動交易腳本**的範例如下：

```pascal
      SetAlign("籌碼", 0);   //指標腳本的預設值是「絕對對位」
      SetAlign("營收財報", 0); //指標腳本的預設值是「絕對對位」
      
      SetAlign("籌碼", 1);   //警示、自動交易腳本的預設值是「公布日對位」
      SetAlign("營收財報", 1); //警示、自動交易腳本的預設值是「公布日對位」
```

- **選股腳本**則不在SetAlign的支援範圍：</br>
選股欄位中，除了籌碼欄位是絕對對位以外，其他欄位都是公佈日對位。
